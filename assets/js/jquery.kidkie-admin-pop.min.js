/*!
* Plugin Name: Kidkie Admin Menu Pop
* Plugin URI: https://github.com/Kidkie/Kidkie-Admin-Menu-Pop
* Description: Plugin built for developers for handling visibility of Admin Bar and Edit-link when logged in.
* Version: 1.2
* Author: Martin Ekelund
* Author URI: https://github.com/Kidkie/
* License: Released under the MIT license
*/
!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):jQuery)}(function(i){function e(i){return r.raw?i:encodeURIComponent(i)}function o(i){return r.raw?i:decodeURIComponent(i)}function n(i){return e(r.json?JSON.stringify(i):String(i))}function a(i){0===i.indexOf('"')&&(i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return i=decodeURIComponent(i.replace(p," ")),r.json?JSON.parse(i):i}catch(e){}}function t(e,o){var n=r.raw?e:a(e);return i.isFunction(o)?o(n):n}var p=/\+/g,r=i.cookie=function(a,p,d){if(void 0!==p&&!i.isFunction(p)){if(d=i.extend({},r.defaults,d),"number"==typeof d.expires){var c=d.expires,s=d.expires=new Date;s.setTime(+s+864e5*c)}return document.cookie=[e(a),"=",n(p),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}for(var m=a?void 0:{},f=document.cookie?document.cookie.split("; "):[],u=0,l=f.length;l>u;u++){var v=f[u].split("="),k=o(v.shift()),b=v.join("=");if(a&&a===k){m=t(b,p);break}a||void 0===(b=t(b))||(m[k]=b)}return m};r.defaults={},i.removeCookie=function(e,o){return void 0===i.cookie(e)?!1:(i.cookie(e,"",i.extend({},o,{expires:-1})),!i.cookie(e))}}),jQuery(function(i){var e="#wpadminbar",o=".edit-link";i("body").addClass("kidkie-ampop"),""==i.cookie("ampop")&&i.cookie("ampop","1"),i(e).wrap("<div id='wpadminbar-am-pop'></div>"),i("#wpadminbar-am-pop").append("<div class='wpadminbar_ampop_tools'><div class='wpadminbar_ampop_trigger'></div></div>"),i.fn.editVisibility=function(e){1==e?i(o).each(function(){i(this).hide()}):i(o).each(function(){i(this).show()})},1==i.cookie("ampop")?(i(e).slideToggle("fast",function(){}),i("#wpadminbar-am-pop").addClass("ampop-active"),i.fn.editVisibility(1),i("body").addClass("kidkie-ampop-active")):i.fn.editVisibility(2),i.fn.amVisible=function(e){i.cookie("ampop","1"),i.fn.editVisibility(1)},i.fn.amHidden=function(e){i.cookie("ampop","2"),i.fn.editVisibility(2)},i(".wpadminbar_ampop_trigger").click(function(){i(e).slideToggle("fast",function(){i(".wpadminbar_ampop_trigger");i(this).is(":visible")?i.fn.amHidden("Hide"):i.fn.amVisible("Show")});var o="#wpadminbar-am-pop";i(".ampop-inactive").not(i(o)).removeClass("ampop-active"),i(o).toggleClass("ampop-active"),i(".kidkie-ampop-active").not(i("body")).removeClass("kidkie-ampop-active"),i("body").toggleClass("kidkie-ampop-active"),event.stopPropagation()})});