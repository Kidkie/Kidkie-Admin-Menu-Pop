/*!
 * Kidkie Admin Menu Pop
 *
 * http://www.martinekelund.com
 * Author 2015 Martin Ekelund
 *
 * Description: Plugin built for developers for handling visibility of Admin Bar and Edit-link when logged in.
 * Version: 1.0
 *
 * Released under the MIT license
 */
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
 
jQuery(function(i){i("body").addClass("kidkie-ampop"),""==i.cookie("ampop")&&i.cookie("ampop","1"),i("#wpadminbar").wrap("<div id='wpadminbar-am-pop'></div>"),i("#wpadminbar-am-pop").append("<div class='wpadminbar_ampop_tools'><div class='wpadminbar_ampop_trigger'></div><div class='wpadminbar_ampop_admin'><a href='/wp-admin/' title='Go to admin'>Edit</a></div></div>"),i.fn.editVisibility=function(e){i(".edit-link").each(1==e?function(){i(this).hide()}:function(){i(this).show()})},1==i.cookie("ampop")?(i("#wpadminbar").slideToggle("fast",function(){}),i("#wpadminbar-am-pop").addClass("ampop-active"),i.fn.editVisibility(1),i("body").addClass("kidkie-ampop-active")):i.fn.editVisibility(2),i.fn.amVisible=function(){i.cookie("ampop","1"),i.fn.editVisibility(1)},i.fn.amHidden=function(){i.cookie("ampop","2"),i.fn.editVisibility(2)},i(".wpadminbar_ampop_trigger").click(function(){i("#wpadminbar").slideToggle("fast",function(){i(".wpadminbar_ampop_trigger");i(this).is(":visible")?i.fn.amHidden("Hide"):i.fn.amVisible("Show")});var e="#wpadminbar-am-pop";i(".ampop-inactive").not(i(e)).removeClass("ampop-active"),i(e).toggleClass("ampop-active"),i(".kidkie-ampop-active").not(i("body")).removeClass("kidkie-ampop-active"),i("body").toggleClass("kidkie-ampop-active"),event.stopPropagation()})}),function(i){"function"==typeof define&&define.amd?define(["jquery"],i):i("object"==typeof exports?require("jquery"):jQuery)}(function(i){function e(i){return d.raw?i:encodeURIComponent(i)}function o(i){return d.raw?i:decodeURIComponent(i)}function n(i){return e(d.json?JSON.stringify(i):String(i))}function a(i){0===i.indexOf('"')&&(i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return i=decodeURIComponent(i.replace(p," ")),d.json?JSON.parse(i):i}catch(e){}}function t(e,o){var n=d.raw?e:a(e);return i.isFunction(o)?o(n):n}var p=/\+/g,d=i.cookie=function(a,p,r){if(void 0!==p&&!i.isFunction(p)){if(r=i.extend({},d.defaults,r),"number"==typeof r.expires){var c=r.expires,s=r.expires=new Date;s.setTime(+s+864e5*c)}return document.cookie=[e(a),"=",n(p),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var m=a?void 0:{},f=document.cookie?document.cookie.split("; "):[],u=0,l=f.length;l>u;u++){var v=f[u].split("="),b=o(v.shift()),k=v.join("=");if(a&&a===b){m=t(k,p);break}a||void 0===(k=t(k))||(m[b]=k)}return m};d.defaults={},i.removeCookie=function(e,o){return void 0===i.cookie(e)?!1:(i.cookie(e,"",i.extend({},o,{expires:-1})),!i.cookie(e))}});